<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>JavaScript and the "Realtime Web"</title>

  <meta name="description" content="A jQuery library for modern HTML presentations">
  <meta name="author" content="Caleb Troughton">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <!-- Core and extension CSS files -->
  <link rel="stylesheet" href="/deck/core/deck.core.css">
  <link rel="stylesheet" href="/deck/extensions/goto/deck.goto.css">
  <link rel="stylesheet" href="/deck/extensions/menu/deck.menu.css">
  <link rel="stylesheet" href="/deck/extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" href="/deck/extensions/status/deck.status.css">
  <link rel="stylesheet" href="/deck/extensions/hash/deck.hash.css">

  <!-- prettify syntax highlighting -->
  <link href="prettify/prettify.css" type="text/css" rel="stylesheet" />

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" href="/deck/themes/style/web-2.0.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" href="/deck/themes/transition/horizontal-slide.css">

  <script src="/deck/modernizr.custom.js"></script>
</head>

<body class="deck-container">


<!-- Begin slides -->

<!-- slides anna -->
<section class="slide" id="main_title">
  <h1>Realtime Web-Applications</h1>
  <!-- Raphael Brand, Sven Pfleiderer, Markus Schleehauf, Anna Regner -->
</section>

<section class="slide" id="realtime-web">
  <h1>The Realtime Web</h1>
</section>

<section class="slide" id="realtime-web-intro">
  <h2>Realtime web?</h2>
  <ul>
  <li>Connecting users in (soft) realtime</li>
  <li>Paradigm shift from request/response to push/pull</li>
  <li>Core technology for a whole family of collaborative apps</li>
  </ul>
</section>

<section class="slide" id="realtime-web-examples">
  <h2>Apps you may know</h2>
  <ul>
  <li><a href="http://docs.google.com">Google Docs</a></li>
  <li>Etherpad</li>
  <li>Facebook Chat</li>
  <li>Games (!!)</li>
  <li>This presentation</li>
  </ul>
</section>

<section class="slide" id="roadmap">
  <h2>Roadmap</h2>

  <h4>Raphael Brand, Sven Pfleiderer, Markus Schleehauf, Anna Regner</h4>

  <p>

  <h3>First lesson (June, 28th 2012)</h3>
  <ul>
    <li>JavaScript</li>
  <li>WebSockets</li>
    <li>Node.js</li>
  </ul>
  <h3>Second lesson (July, 04th 2012)</h3>
  <ul>
    <li>Socket.IO</li>
    <li>redis</li>
  </ul>

  <h3>Realtime Slides</h3>
  <h4><a href="jabber.roothausen.de:8080">jabber.roothausen.de:8080</a></h4>

</section>

<section class="slide" id="introduction_title">
  <h1>Introduction</h1>
</section>

<section class="slide" id="introduction">
  <h2>Introduction</h2>
  <ul>
    <li>was formalized in the ECMAScript language standard</li>
  <li>syntax similar to that of C</li>
  <li>name contains "Java", but there are only a few similarities</li>
  <li>JavaScript is a brand of Sun Microsystems (today Oracle)</li>
  </ul>
</section>

<section class="slide" id="introduction_2">
  <h2>Basic information</h2>
  <ul>
    <li>dynamic behavior in a web page</li>
    <li>can be used as object-oriented language</li>
  <li>client-side technology</li>
  <li>easy to learn</li>
  </ul>
</section>

<section class="slide" id="introduction_3">
  <h2>What JavaScript can do ...</h2>
  <ul>
  <li>handle events</li>
    <li>validate form data</li>
  <li>modify the DOM tree</li>
  <li>get information about the browser</li>
  <li>access and modify browser cookies</li>
  </ul>
</section>

<section class="slide" id="history">
  <h2>History</h2>
  <ul>
  <li>1995: Brendan Eich developed the first prototype of JavaScript in about 10 days</li>
  <li>Netscape released version 2.0 of their browser</li>
  <li>JavaScript first was released as “LiveScript”</li>
  <li>1996: Microsoft also integrated a script language in the IE 3.0 (JScript)</li>
  <li>JavaScript gained success as a client-side scripting language for web pages</li>
  <li>latest release: ECMAScript 5 in Dec 2009</li>
  <!-- <li>today it is very important for Web-Developers</li> -->
  </ul>
</section>

<section class="slide" id="usage">
  <h2>Usage</h2>
  <ul>
  <li>&lt;SCRIPT> tags are used to write JavaScript code in HTML file</li>
  <li>it can be placed in the &lt;HEAD> or the &lt;BODY> tag</li>
  </ul>
  <div class="sample-content">
  <pre class="prettyprint">
  &lt;SCRIPT LANGUAGE="JavaScript">
  document.write("Hello!")
  &lt;/SCRIPT>
  </pre>
  </div>
  <ul>
  <li>JavaScript in an external file, can be linked with an &lt;SCRIPT> tag</li>
  </ul>
  <div class="sample-content">
  <pre class="prettyprint">
  &lt;SCRIPT LANGUAGE="JavaScript" src="filename.js">
  &lt;/SCRIPT>
  </pre>
  </div>
</section>

<section class="slide" id="syntax_title">
  <h1>The Syntax of JavaScript</h1>
</section>

<section class="slide" id="comments">
  <h2>Comments</h2>
  <h3>single line comment</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  //this is a comment
  </pre>
  </div>
  <h3>multi line comment</h3>
    <pre class="prettyprint">
  /*this is
  another comment*/
  </pre>
  </div>
</section>


<section class="slide" id="data_types">
  <h2>Data Types</h2>
  <h3>number (= integer/float)</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var year=2012;
  var radius=3.7;
  </pre>
  </div>
  <h3>string</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var name="This is a string";
  </pre>
  </div>
  <h3>boolean (true/false)</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var myBoolean=true;
  </pre>
  </div>
</section>

<section class="slide" id="operators_title">
  <h1>Operators</h1>
</section>

<section class="slide" id="operators">
  <h2>Operators</h2>
  <ul>
    <li><h3>arithmetic</h3> +, -, *, /, %, ++, --</li>
    <li><h3>comparison</h3> ==, ===, !=, !==, &gt;, &lt;,</li>
    <li><h3>logic</h3> &amp;&amp;, ||, !</li>
  </ul>
</section>

<section class="slide" id="type_coercion">
  <h2>Type Coercion</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  1 == "1"
  &gt;&gt; true

  0 == ''
  &gt;&gt; true

  ',,,' == new Array(4)
  &gt;&gt; true

  //better use ===
  0 === ''
  &gt;&gt; false

  ',,,' === new Array(4)
  &gt;&gt; false
  </pre>
  </div>
</section>

<section class="slide" id="control_structures_title">
  <h1>Control Structures</h1>
</section>

<section class="slide" id="conditional_statements">
  <h2>Conditional Statements</h2>
  <h3>if</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var x="";
  var time=new Date().getHours();
  if (time<20){
    x="Good day";
  }
  </pre>
  </div>
  <h3>if ... else if ... else</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var x="";
  var time=new Date().getHours();
  if (time<10){
    x="Good morning";
  }
  else if (time<20){
    x="Good day";
  }
  else{
    x="Good evening";
  }
  </pre>
  </div>
</section>

<section class="slide" id="conditional_statements_2">
  <h2>Conditional Statements (2)</h2>
  <h3>switch ... case</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var x="";
  var d=new Date().getDay();
  switch (d){
  case 6:
      x="Today it's Saturday";
    break;
  case 0:
      x="Today it's Sunday";
    break;
  default:
      x="Looking forward to the Weekend";
  }
  </pre>
  </div>
</section>

<section class="slide" id="loops">
  <h2>Loops</h2>
  <h3>for loop</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  for (var i=0; i<3; i++) {
    document.write("This is a for loop.");
  }
  </pre>
  </div>
  <h3>while loop</h3>
   <div class="sample-content">
  <pre class="prettyprint">
  var x="",i=0;
  while (i<4){
    x=x + "The number is " + i;
    i++;
  }
  </pre>
  </div>
  <h3>do...while</h3>
     <div class="sample-content">
  <pre class="prettyprint">
  var x="",i=0;
  do{
    x=x + "The number is " + i;
    i++;
  }
  while (i<4)
  </pre>
  </div>
</section>


<!-- slides raphael -->

<section class="slide" id="objects">
  <h1>Objects</h1>
</section>

<section class="slide" id="objects2">
  <h2> Objects are mutable keyed collections </h2>
  <ul>
    <li>a property name can be any string</li>
    <li>a property value can be any JavaScript value</li>
    <li>objects are class-free in JavaScript</li>
  </ul>
</section>

<section class="slide" id="object_literals">
  <h2>Object Literals</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var bob = {
      name: "bob",
      age: 42,
      toString: function() {
        return "My name is " + this.name;
       },
      friends: ["peter", "hans"],
      contacts: {
        peter: 123456,
        hans: 654321
      }
    };
  </pre>
  </div>
</section>


<section class="slide" id="value_manipulation">
  <h2>Retrieval / Update / Delete</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    //retrieve a value
    bob.name
    &gt;&gt; "bob"

    bob["age"]
    &gt;&gt; 42

    bob.0 //SyntaxError
    bob["0"]

    bob.parents
    &gt;&gt; undefined

    //update a value
    bob.age = 50;

    //delete a value
    delete bob.age
  </pre>
  </div>
</section>

<section class="slide" id="object_enumeration">
  <h2>Enumeration</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var items = {
      bread: 1.00,
      tea: 2.50,
      butter: 0.90
    };

    for(var item in items) {
      console.log(item + " costs " + items[item] + " €");
    }

    &gt;&gt; "bread costs 1.00 €"
    &gt;&gt; "tea costs 2.50 €"
    &gt;&gt; "butter costs 0.90 €"
  </pre>
  </div>
</section>

<section class="slide" id="arrays_title">
  <h1>Arrays</h1>
</section>

<section class="slide" id="array_properties">
  <h2>Arrays ...</h2>
  <ul>
    <li>are really just objects with useful builtin functionalities</li>
    <li>have no fixed length</li>
    <li>may contain any mixture of values</li>
  </ul>
</section>

<section class="slide" id="array_literals">
  <h2>Array Literals</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var numbersArray = ["zero", "one", "two"];

    var numbersObject = {
      0: "zero",
      1: "one",
      2: "two"
    };

    numbersArray[0]
    &gt;&gt; "zero"

    numbersArray[5]
    &gt;&gt; undefined
    numbersArray[5] = "five"

    numbersArray.length
    &gt;&gt; 3

    numbersArray.indexOf("one");
    &gt;&gt; 1
  </pre>
  </div>
</section>

<section class="slide" id="array_enumeration">
  <h2>Enumeration</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var foo = [1,2,3,4,5];
  for (var i = 0; i &lt; foo.length; i++) {
    console.log(foo[i]);
  }
  &gt;&gt; 1 2 3 4 5

  //since JavaScript 1.6
  foo.forEach(function(item,index,array) {
    console.log(item);
  });
  &gt;&gt; 1 2 3 4 5

  //don't do this!
  var foo = [1,2,3,4,5];
  foo.bar = "foobar";
  for(var index in foo) {
    console.log(foo[index]);
  }
  &gt;&gt; 1 2 3 4 5 "foobar"
  </pre>
  </div>
</section>

<section class="slide" id="crockford_quote">
  <h2>LISP in C clothing</h2>
  <blockquote >
    <p>JavaScript is the only language where good programmers believe they can use it effectively, without learning it.</p>
    <p><cite>Douglas Crockford</cite></p>
  </blockquote>
</section>

<section class="slide" id="functions">
  <h1>JavaScript functions are first-class functions.</h1>
</section>

<section class="slide" id="first_class">
  <h2>Functions can be ...</h2>
  <ul>
    <li class="slide"> assigned to variables</li>
    <li class="slide"> returned from functions</li>
    <li class="slide"> passed as a function argument</li>
    <li class="slide"> stored in data structures</li>
  </ul>
</section>

<section class="slide" id="function_syntax">
  <h2>Assign a function to a variable</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var add = function(a, b) {
      return a + b;
    };

    function add(a, b) {
      return a + b;
    }
  </pre>
  </div>
</section>

<section class="slide" id="closures">
  <h2>Closures</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    function makeFilter(regex) {
      return function(string) {
        return string.replace(regex; '');
      };
    };
    var numberFilter = makeFilter(/\d+/g);
    numberFilter("AB12AB12");

    &gt;&gt; "ABAB"
  </pre>
  </div>
</section>

<section class="slide" id="anonymous_functions">
  <h2>Anonymous Functions</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    button.onclick(function() {
      alert("Click!");
    });
  </pre>
  </div>
</section>

<section class="slide" id="prototyping">
  <h2>Prototyping</h2>
  <ul>
    <li>no classes in JavaScript</li>
    <li>objects inherit directly from other objects</li>
  </ul>
</section>

<section class="slide" id="constructor_functions">
  <h2>Constructor Functions</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var Shape = function(x, y) {
      this.x = x;
      this.y = y;
      this.toString = function() {
        return "Shape at " + this.x + " : " + this.y;
      };
      this.draw = function() {
        return "Shape";
      };
    };

    var shape1 = new Shape(5,5);
    var shape2 = new Shape(10,10);
  </pre>
  </div>
</section>

<section class="slide" id="prototype_chain_1">
  <h2>Prototype Chain</h2>
  <img src="images/prototype.png">
</section>

<section class="slide" id="prototype_property">
  <h2>Prototype Property</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    //a better approach
    var Shape = function(x, y) {
      this.x = x;
      this.y = y;
    };
    Shape.prototype.toString = function() {
      return "shape at " + this.x + " : " + this.y;
    };
    Shape.prototype.draw = function() {
      return "Shape";
    };

    var shape1 = new Shape(5,5);
    var shape2 = new Shape(10,10);
  </pre>
  </div>
</section>

<section class="slide" id="prototype_chain_2">
  <h2>Prototype Chain</h2>
  <img src="images/prototype2.png">
</section>

<!--
<section class="slide" id="alternative_prototyping">
  <h2>An Alternative</h2>
  <pre><code>
  var shape = {
    toString: function() {
      return "shape at " + this.x + " : " + this.y;
    },
    draw: function() {
      return "Shape";
    }
  };

  var myShape = Object.create(shape, {
    x: {
      value: 5,
      enumerable: true,
      writable: true
    },
    y: {
      value: 10,
      enumerable: true,
      writable: false
    }
  });
  </pre></code>
</section>
-->

<section class="slide" id="library_extensions">
  <h2>Extending JavaScript</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var array = [1,2,3,4];
  Array.prototype.contains = function(element) {
      for(var i = 0; i &lt; this.length; i++) {
          if (this[i] === element) {
            return true;
          }
      }
      return false;
  };

  array.contains(1);
  &gt;&gt; true
  </pre>
  </div>
</section>

<section class="slide" id="scope">
  <h1>Scope</h1>
</section>

<section class="slide" id="function_scope">
  <h2>There is no block scope!</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  function aFunction() {
    var foo = 1;
    if(true) {
      var foo = 2;
    }
    //foo === 2
  }
  </pre>
  </div>
</section>

<!--
<section class="slide" id="anonymous_wrapper">
  <h2>Anonymous Wrapper</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  (function() {
    //do something, function has own scope
    var foo = 5;
  })();
  //foo === undefined
  </pre>
  </div>
</section>
-->

<section class="slide" id="global_variables">
  <h2>Global Variables</h2>
  <ul>
    <li>everything uses the global window object</li>
  </ul>

  <div class="sample-content">
  <pre class="prettyprint">
  var foo = 5;
  window.foo
  &gt;&gt; 5

  //attention, implied global!
  bar = 10;
  window.bar
  &gt;&gt; 10
  </pre>
  </div>
</section>

<!--
<section class="slide" id="module_pattern">
  <h2>The module pattern</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var myModule = (function() {
    var privateNumber = 0;
    var privateFunction = function() {
      //do something
    };
    return {
      publicNumber: privateNumber++,
      publicFunction: function() {
        //do something
      }
    };
  })();
  </pre>
  </div>
</section>
-->

<section class="slide" id="future">
  <h2>JavaScript Harmony</h2>
  <ul>
    <li>block scope with let keyword</li>
    <li>consts with const keyword</li>
    <li>modules</li>
    <li>generators, list comprehensions</li>
    <li>destructering</li>
  </ul>
</section>

<section  class="slide" id="koans">
    <h1>It´s time to work...</h1>
    <h2>JavaScript Koans</h2>
</section>

<section  class="slide" id="VM">
    <h2>Login VM</h2>
  <h3>Username: ewa</h3>
  <h3>Password: ewa</h3>
</section>

<!-- end slides raphael -->

<!-- start slides schlauch -->

<section class="slide" id="websockets">
  <h1>WebSockets</h1>
</section>

<section  class="slide" id="websockets_2">
  <h2>WebSockets</h2>
  Until WebSockets there was no way to send event driven events to the client.
  <p>
  <h3>why?</h3>

  <ul>
    <li>HTTP is stateless</li>
      <ul>
        <li>request</li>
        <li>response</li>
        <li>HTTP is by default only halfduplex</li>
        <li>2 connections needed</li>
      </ul>
    <li>store session only with tricks and hacks</li>
      <ul>
        <li>cookies</li>
        <li>sessions</li>
        <li>using 'observer pattern'</li>
        <li>hacks and tricks like comet, bayeux, ajax push ...</li>
      </ul>
    <li> No server side initiated communication </li>
  </ul>

</section>


<section  class="slide" id="polling">
  <h2>Polling</h2>

  <pre>
    <img src="images/Polling.png" alt="Polling" width="407" height="464">
  </pre>

</section>

<section  class="slide" id="longpolling">
  <h2>Long Polling</h2>
  <pre>
    <img src="images/LongPolling.png" alt="LongPolling" width="417" height="476">
  </pre>

</section>

<section  class="slide" id="polling_facts">
  <h2>Polling is...</h2>

  <ul>
    <li>stateless</li>
    <li>traffic</li>
    <li>useless information "no changes"</li>
  </ul>


</section>


<section  class="slide" id="about">
  <h2>WebSockets</h2>

  <h3>Wrong way for realtime because...</h3>

  <ul>
    <li> not efficient</li>
    <li> overhead </li>
    <li> slow </li>
  </ul>

  <p>

  <h3>Not usable for applications like....</h3>

  <ul>
    <li>collaboration websites</li>
    <li>support and monitoring pages</li>
    <li>games</li>
    <li>financial</li>
  </ul>
</section>

<section  class="slide" id="intro">
  <h2>WebSockets</h2>

  <h3>HTML5 WebSocket Specification</h3>

  <ul>
    <li>single socket full duplex (bi-directional)</li>
    <li>pushing and pulling over one connection</li>
    <li>based on HTTP </li>
    <li>handshake</li>
  </ul>

</section>

<!--
<section  class="slide" id="header">
  <h2>WebSockets</h2>

  <pre>
  From client (browser) to server:
  GET /long-polling HTTP/1.1\r\n
  Host: www.kaazing.com\r\n
  User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9) Gecko/2008061017 Firefox/3.0\r\n
  Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n
  Accept-Language: en-us,en;q=0.5\r\n
  Accept-Encoding: gzip,deflate\r\n
  Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n
  Keep-Alive: 300\r\n
  Connection: keep-alive\r\n
  Cache-Control: max-age=0\r\n
  \r\n
  </pre>

  <pre>
  From server to client (browser):
  Date: Tue, 16 Aug 2008 00:00:00 GMT\r\n
  Server: Apache/2.2.9 (Unix)\r\n
  Content-Type: text/plain\r\n
  Content-Length: 12\r\n
  \r\n
  Hello, world
  </pre>

</section>

-->

<section  class="slide" id="websocket_ablauf">
  <h2>WebSockets</h2>

  <pre>

  <img src="images/WebSocket.png" alt="WebSocket" width="463" height="477">

  </pre>

</section>

<section  class="slide" id="compare">
  <h2>WebSockets</h2>

  <table border="0">
    <tr>
      <td>Long Polling <p></td>
      <td>Polling</td>
      <td>WebSockets</td>
    </tr>


    <tr>
      <td>
        <pre><img src="images/LongPolling.png" alt="LongPolling" width="396" height="367"></pre>
      </td>
      <td>
        <pre><img src="images/Polling.png" alt="Polling" width="366" height="391"></pre>
      </td>
      <td>
        <pre><img src="images/WebSocket.png" alt="WebSocket" width="387" height="357"></pre>
      </td>
    </tr>
  </table>

</section>


<section  class="slide" id="handshake">
  <h2>WebSockets</h2>

  <h3>Handshake</h3>

  <pre>
  <h4>Browser</h4>
  GET /chatService HTTP/1.1
  Host: server.example.com
  Upgrade: websocket
  Connection: Upgrade
  Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
  Sec-WebSocket-Origin: http://example.com
  Sec-WebSocket-Protocol: chat, superchat
  Sec-WebSocket-Version: 8
  </pre>

  <pre>
  <h4>Server</h4>
  HTTP/1.1 101 Switching Protocols
  Upgrade: websocket
  Connection: Upgrade
  Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=
  Sec-WebSocket-Protocol: superchat
  </pre>


</section>

<section  class="slide" id="code_example">
  <h2>WebSockets</h2>

  <h3>Code example with JavaScript API</h3>

  <pre class="prettyprint">
  // Create new WebSocket
  var mySocket = new WebSocket("ws://echo.websockets.org");

  // Attach listeners
  mySocket.onmessage = function(event) { alert("Der Server sagt: " + event.data); };
  mySocket.onopen = function(event) {...};
  mySocket.onclose = function(event) {...};
  mySocket.onerror = function(event) {...};

  // Send data...
  mySocket.send("Hallo Server!");
  // Close WebSocket
  mySocket.close();

  </pre>


</section>

<section  class="slide" id="message_example">
  <h2>WebSockets</h2>

  <h3>Message</h3>
  Overhead: 2 Byte

  <ul>
    <li>WebSocket Message Start: 0x00</li>
    <li>WebSocket Message End: 0xff</li>
  </ul>

  <pre>
  \0x00Hello, WebSocket\0xff

  </pre>

</section>



<!-- end slides schlauch -->

<!-- start slides pfleidi -->

<section class="slide deck-current" id="node-title">
  <h1>Node.js</h1>
</section>

<section class="slide" id="node-history">
  <h2>Node.js History</h2>
<ul>
  <li>Ryan Dahl wanted to script network services ...</li>
  <li>development started in 2009 and was sponsored by Joyent</li>
  <li>currently used by <a href="http://filer.progstr.com/1/post/2012/04/my-nodejs-linksheet.html">many different companies</a> for all kinds of purposes</li>
  <li>current version: 0.8.0 (June, 25th 2012)</li>
</ul>
</section>


<section class="slide" id="node-events">
  <h2>Let's talk about events</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var listeningSocket = http.socket.listen(8080);

    // loop endlessly
    while (true) {
      var request = listeningSocket.accept();
      // process is blocked until a client connects
      var requestedFile = request.getRequestedFileName();
      var data = io.file.open(requestedFile).read();
      request.respond(data);
      request.closeConnection();
    }
  </pre>
</div>
</section>

<section class="slide" id="node-problem">
<h2>Problem: Scalability</h2>
<ul>
  <li>memory overhead</li>
  <li>scheduling overhead</li>
  <li>not suitable for WebSockets</li>
</ul>
</section>

<section class="slide" id="node-solution">
<h2>Solution: Use an event loop</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var listeningSocket = http.socket.listen(8080);
    var input = [listeningSocket];

    function eventLoop() {
      while (true) {
        var descriptors = io.select(input, [], []);
        // get all readable file descriptors
        var ready = descriptors.inputready;

        for (var i; i &lt; ready.length; i++) {
          // handle events
        }
      }
    }
    eventLoop();
</pre>
</div>
</section>


<section class="slide" id="node-explanation">
<h2>So what exactly is Node.js?</h2>

<p>A server side JavaScript runtime</p>

<ul>
  <li>an event loop system (libev/libuv)</li>
  <li>the V8 JS engine of Google Chrome</li>
  <li>wrappers around synchronous OS system calls (libeio)</li>
  <li>the commonJS module system</li>
  <li>a standard library</li>
</ul>
</section>

<section class="slide" id="node-hello-world">
  <h2>Example: HTTP Hello world</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    var http = require('http');

    http.createServer(function (req, res) {
      res.writeHead(200, {'Content-Type': 'text/plain'});
      res.end('Hello World\n');
    }).listen(1337, '127.0.0.1');
      </pre>
</div>
</section>

<section class="slide" id="node-modules">
  <h1>Node.js modules</h1>
</section>

<section class="slide" id="node-modules-usage">
  <h2>Using modules</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    // requiring module
    var util = require('util');

    // using the module
    output = util.format('%s:%s', 'foo', 'bar', 'baz'); // 'foo:bar baz'
    util.log(output);
  </pre>
</div>
</section>

<section class="slide" id="node-modules-definition">
  <h2>Defining modules</h2>
  <h3>Example: circle.js</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    var PI = Math.PI;

    // export module functions
    exports.area = function (r) {
      return PI * r * r;
    };

    exports.circumference = function (r) {
      return 2 * PI * r;
    };
 </pre>
 </div>
 <h3>Usage of circle.js</h3>
  <div class="sample-content">
  <pre class="prettyprint">
  var circle = require('./circle.js');
  console.log(circle.area(23.42));
 </pre>
 </div>
 </section>

 <section class="slide" id="node-modules-stdlib">
 <h2>Standard library</h2>

 <h3>The <a href="http://nodejs.org/api/">stdlib</a> contains modules for:</h3>
 <ul>
   <li>sockets</li>
   <li>buffers</li>
   <li>files</li>
   <li>HTTP</li>
   <li>process management</li>
   <li>and much more ...</li>
 </ul>
 </section>

 <section class="slide" id="node-npm">
 <h1>What about other modules?</h1>
 </section>

 <section class="slide" id="node-npm-intro">
 <h2>NPM: The Node Package Manager</h2>
 <ul>
   <li>command line utility to manage dependencies</li>
   <li>community driven <a href="http://search.npmjs.org/">repository</a> of third party libs</li>
   <li>bundled with Node.js since version 0.6</li>
   <li>NPM package descriptor: package.json</li>
 </ul>
 </section>

 <section class="slide" id="node-npm-package">
 <h2>package.json</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    {
      "name" : "javascript-slides",
      "description" : "Slides software using HTML5 and Node.js",
      "version" : "1.0.0",
      "author" : "Realtime Webapps Team",
      "directories" : { "lib" : "lib" },
      "engines" : {
        "node": "&gt;= 0.6.0",
        "npm" : "&gt;= 1.1.*"
      },
      "dependencies": {
         "express" : "&gt;= 3.0",
         "log4js" : "&gt;= 0.5.0",
         "sanitizer" : "&gt;= 0.0.15",
         "socket.io" : "&gt;= 0.9.6"
      }
    }
 </pre>
  </div>
  </section>

  <section class="slide" id="node-fazit">
  <h2>Fazit</h2>
  <ul>
    <li>well suited for I/O bound apps</li>
    <li>well suited for handling lots of connections</li>
    <li>Node moves fast: You have to keep up</li>
    <li>not optimal for heavily CPU bound apps</li>
  </ul>
  </section>

  <section  class="slide" id="exercise">
    <h1>It´s time to work...</h1>
    <h2>Exercise</h2>

  </section>

  <section  class="slide" id="end">
    <h2>Now try this with IE...</h2>

    <img src="images/ie_cat.jpeg" alt="ie_cat" width="350" height="323">

  </section>

  <section  class="slide" id="nextmodule">
    <h2>Solution is called Socket.IO and redis - Looking forward to next session...</h2>
    <img src="images/CatSuperhero.jpg" alt="CatSuperhero" width="375" height="276">

  </section>

  <!-- end slides pfleidi -->
  
  <!-- SESSION 2-->
<section class="slide" id="main_title_2">
	<h1>Realtime Web-Applications</h1>
  </section>
  
<section class="slide" id="roadmap_2">
  <h2>Roadmap</h2>
  <h4>Raphael Brand, Sven Pfleiderer, Markus Schleehauf, Anna Regner</h4>
  <p>
  <h3>First lesson (June, 28th 2012)</h3>
  <ul>
    <li>JavaScript</li>
	<li>WebSockets</li>
    <li>Node.js</li>
  </ul>
  <h3>Second lesson (July, 04th 2012)</h3>
  <ul>
    <li>Socket.IO</li>
    <li>redis</li>
  </ul>
  <h3>Realtime Slides</h3>
  <h4><a href="jabber.roothausen.de:8080">jabber.roothausen.de:8080</a></h4>
</section> 
 
  
  <!-- slides raphael session 2 -->
<section class="slide" id="websocket_problems">
  <h2>What about...</h2>
    <ul>
      <li>old / mobile browsers</li>
      <li>timeouts / reconnects</li>
      <li>authorization / authentifaction</li>
      <li>a higher abstraction</li>
    </ul>
</section>

<section class="slide" id="socketio_title">
  <h1>Socket.IO</h1>
</section>

<section class="slide" id="browser_support">
  <h2>Supported Browsers</h2>
  <ul>
    <li>Internet Explorer 5.5+</li>
    <li>Safari 3+</li>
    <li>Google Chrome 4+</li>
    <li>Firefox 3+</li>
    <li>Opera 10.61+</li>
    <li>mobile browsers</li>
  </ul>
</section>

<section class="slide" id="socketio_features">
  <h2>Features</h2>
  <ul>
    <li>fallbacks</li>
    <li>heartbeats / reconnects</li>
    <li>rooms</li>
    <li>namespaces</li>
    <li>events</li>
    <li>acknowledgments</li>
    <li>volatile messages</li>
  </ul>
</section>

<section class="slide" id="events">
  <h2>Events</h2>
    <div class="sample-content">
    <pre class="prettyprint">
      //SERVER
      io.sockets.on('connection', function (socket) {
        socket.emit('news', { hello: 'world' });
        socket.on('my other event', function (data) {
          console.log(data);
        });
      });

      //CLIENT
      socket.on('news', function (data) {
        console.log(data);
        socket.emit('my other event', { my: 'data' });
      });
    </pre>
    </div>
</section>

<section class="slide" id="acknowledgments">
  <h2>Acknowledgments</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    //Server
    socket.on('myEvent', function (data, ack) {
      ack('got your message!');
    });

    //Client
    socket.emit('myEvent', 'myMessage', function (data) {
      console.log(data); // "got your message!"
    });
  </pre>
  </div>
</section>

<section class="slide" id="rooms">
  <h2>Rooms</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    //Server
    socket.on("join", function (roomID) {
      socket.join(roomID);
      socket.on(roomID, function (message) {
        io.sockets.in(roomID).emit(message);
      });
    });

    //Client
    socket.emit("join", "myRoom");
    socket.emit("myRoom", "this is a message for a room");
  </pre>
  </div>
</section>

<section class="slide" id="broadcasting">
  <h2>Volatile Message / Broadcasting</h2>
  <div class="sample-content">
  <pre class="prettyprint">
    //Server
    socket.broadcast.emit("myEvent", "myMessage");

    socket.broadcast.volatile.emit("volatileEvent", "myMessage");
  </pre>
  </div>
  </section>

  <!-- end slides raphael session 2 -->

  <!-- start sides pfleidi session 2 -->

  <section class="slide" id="frameworks">
  <h1>Web Frameworks</h1>
  </section>

  <section class="slide" id="frameworks-intro">
  <h2>Node.js has HTTP built in, BUT ...</h2>
  <ul>
    <li>the APIs are really low level</li>
    <li>URL routing, session management, etc. has do be done "by hand"</li>
    <li>there are LOTS of 3rd pary modules and helpers</li>
    <li>problem: which ones work well and are maintained?</li>
  </ul>
  </section>

  <section class="slide" id="frameworks">
  <h2>Solution: Middleware</h2>
  <ul>
    <li>WSGI (Python)</li>
    <li>Rack (Ruby)</li>
    <li>Connect (Node.js)</li>
  </ul>
  </section>

  <section class="slide" id="frameworks-intro-connect">
  <h2><a href="http://senchalabs.github.com/connect/">Connect</a></h2>
  <ul>
    <li>pluggable middleware framework</li>
    <li>lowlevel standard for most Node web-frameworks</li>
    <li>support for:</li>
    <ul>
      <li>logging</li>
      <li>cookie/session management</li>
      <li>query parsing</li>
      <li>HTTP compression</li>
      <li>...</li>
    </ul>
  </ul>
  </section>

  <section class="slide" id="frameworks-intro-express">
  <h2><a href="http://expressjs.com/">Express</a></h2>
  <ul>
    <li>small web framework</li>
    <li>similar APIs to <a href="http://www.sinatrarb.com/">Sinatra (Ruby)</a></li>
    <li>built on connect middleware</li>
    <li>command line tool to generate projects</li>
    <li>support for:</li>
    <ul>
      <li>URL Routing</li>
      <li>pluggable template rendering</li>
      <li>content negotiation</li>
      <li>...</li>
    </ul>
  </ul>
  </section>

   <section class="slide" id="frameworks-middleware-intro">
  <h2>Connect/Express middleware</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  function query(req, res, next) {
    /* do stuff */

    next(); // we're finished
  };
  </pre>
  </div>
  </section>

  <section class="slide" id="frameworks-middleware-example">
  <h2>Middleware example</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  module.exports = function query(options) {
    return function query(req, res, next) {
      if (!req.query) {
        req.query = (req.url.indexOf('?') !== -1)
          ? qs.parse(parse(req).query, options)
          : {};
      }

      next();
    };
  };
  </pre>
  </div>
  </section>

  <section class="slide" id="frameworks-middleware-usage">
  <h2>Using middleware</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var app = require('express').createServer({ key: ... });

  app.configure(function(){
    app.use(express.methodOverride());
    app.use(express.bodyParser());
    app.use(myModule.query());
    app.use(app.router);
  });
  </pre>
  </div>
  </section>

  <section class="slide" id="frameworks-express-routing">
  <h2>Express Routing</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var app = require('express').createServer({ key: ... });

  app.get('/user/:id', function(req, res){
    res.send('user ' + req.params.id);
  });

  app.get(/^\/users?(?:\/(\d+)(?:\.\.(\d+))?)?/, function(req, res){
    res.send(req.params);
  });

  /* works also for */
  app.put(...)
  app.delete(...)
  </pre>
  </div>
  </section>

  <section class="slide" id="frameworks-express-routing-forms">
  <h2>Processing HTTP POST</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var express = require('express')
  , app = express.createServer();

  app.use(express.bodyParser());

  app.post('/', function(req, res){
    res.send(req.body);
  });
  </pre>
  </div>
  </section>

  <section class="slide" id="frameworks-express-templates">
  <h2>Express template engines</h2>
  <ul>
    <li><a href="http://github.com/visionmedia/haml.js">Haml</a></li>
    <li><a href="http://jade-lang.com/">Jade</a></li>
    <li><a href="http://github.com/visionmedia/ejs">EJS</a></li>
    <li><a href="http://github.com/mauricemach/coffeekup">CoffeeKup</a></li>
    <li><a href="https://github.com/kof/node-jqtpl">JQuery Templates</a></li>
    <li>...</li>
  </ul>
  </section>

   <section class="slide" id="frameworks-express-templates-jade">
  <h2>Jade Template</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  doctype 5
  html(lang="en")
    head
      title= #{title}
      script(type='text/javascript')
        if (foo) {
          bar()
        }
    body
      h1 Jade - node template engine
      #container
        if youAreUsingJade
          p You are amazing
        else
          p Get on it!
  </pre>
  </div>
  </section>

  <section class="slide" id="frameworks-express-templates-render">
  <h2>Rendering Templates</h2>
  <div class="sample-content">
  <pre class="prettyprint">
  app.get('/', function(req, res){
    res.render('index.jade', { title: 'My Site' });
  });
  </pre>
  </div>
  </section>

  <section class="slide" id="cluster">
  <h1>Clustering</h1>
  </section>

  <section class="slide" id="cluster-intro">
  <h2>Node.js is fast, but</h2>
  <ul>
    <li>single threaded</li>
    <li>single process</li>
  </ul>
  <p>What do we do, if we want to use several cores?</p>
  </section>

  <section class="slide" id="cluster-example">
  <h2>The Node.js <a href="http://nodejs.org/api/cluster.html">cluster module</a></h2>
  <div class="sample-content">
  <pre class="prettyprint">
  var cluster = require('cluster');
  var http = require('http');
  var numCPUs = require('os').cpus().length;

  if (cluster.isMaster) {
    for (var i = 0; i &lt; numCPUs; i++) {
      cluster.fork();
    }

    cluster.on('exit', function(worker, code, signal) {
      console.log('worker ' + worker.pid + ' died');
    });
  } else {
    http.createServer(function(req, res) {
      res.writeHead(200);
      res.end("hello world\n");
    }).listen(8000);
  }
  </pre>
  </div>
  </section>

  <!-- end sides pfleidi session 2 -->

  <!-- start slides Anna session 2-->
  
<section class="slide" id="redis">
  <h1>
    <img src="images/redis-logo.png" alt="redis" >
  </h1>
</section>
  
  <section class="slide" id="redis_introduction">
	<h2>What is redis?</h2>
	<blockquote>
	  <p>Redis is an open source, advanced key-value store. It is often referred to as a 
	  data structure server since keys can contain strings, hashes, lists, sets and sorted sets.</p>
	  <p><cite>redis.io</cite></p>
	</blockquote>
  </section>
  
    
  <section class="slide" id="redis_introduction">
	<h2>What is redis?</h2>	
	<ul>
	  <li>redis = REmote DIctionary Server</li>
	  <li>a key-value data store</li>
	  <li>belongs to NoSQL DBs</li>	
	  <li>latest stable version: 2.4.15</li>
	</ul>
  </section>
  
  <section class="slide" id="history">
	<h2>History</h2>	
	<ul>
	  <li>developed by Salvatore Sanfilippo</li>
	  <li>released in March 2009</li>
	  <li>development is sponsored by VMWare</li> <!-- Er arbeitet inzwischen vollzeit an redis -->
	  <li>Open Source</li>
	  <li>BSD (Berkeley Software Distribution) license</li>
	</ul>
  </section>
  
  <section class="slide" id="facts">
	<h2>Facts ...</h2>	
	<ul>
	  <li>keys mapped to values</li>
	  <li>for simple data structure</li>
	  <li>written in ANSI C - only about 16.000 lines of code</li>
	</ul>
  </section>
  
  <section class="slide" id="more_facts">
	<h2>... more Facts</h2>	
	<ul>
	  <li>faster than e.g. MySQL</li>
	  <li>about 100.000 wrinting processes per socond</li>
	  <li>about 80.000 reading processes per second</li>
	  <li>time complexity is given to every command</li>
	  <li>redis typically holds the whole dataset in RAM - In-Memory DB (IMDB)</li>
	  <li>data will be saved on disk in a defined interval</li>
	</ul>
  </section>
  
  <section class="slide" id="advantages"> 
  	<h2>Advantages</h2>	
	<ul>
	  <li>"scales down as well as up" because of the simple data structure (scalability)</li>
	  <li>handles writes faster than reads</li>
	  <li>APIs for many different programming languages available</li>
	</ul>
  </section>
  
  <section class="slide" id="disadvantages">
	<h2>Disadvantages</h2>	
	<ul>
	  <li>persistence: changes could get lost</li>
	  <li>can not be used for complex data structures</li>
	</ul>
  </section>
  
  <section class="slide" id="usage">
	<h2>Usage</h2>	
	<ul>
	  <li>systems where a quick response time is needed, e.g. emergency system</li>
	  <li>systems where a key-value structure is needed, e.g. sessionhandling in a websystem</li>
	  <li><a href="http://redis.io/topics/whos-using-redis">who is using redis?</a></li>
	</ul>
  </section> 
  
  <section class="slide" id="data_model">
	<h2>Data Model</h2>	
	<ul>
	  <li>"value" can NOT only contain strings</li>
	  <li>It can also contain:
	  <ul>
		<li>Lists of strings</li>
		<li>Sets of strings (collections of non-repeating unsorted elements)</li>
		<li>Sorted sets of strings (collections of non-repeating elements ordered by a floating-point number called score)</li>
		<li>Hashes where keys and values are strings</li>
	  <ul>	
	  </li>
	</ul>
  </section>
    
  <section class="slide" id="test_redis">
	<h2>Test redis</h2>	
	<h3><a href="http://try.redis-db.com/">http://try.redis-db.com/</a></h3>
	<ul>
	  <li>interactiv test of redis in your browser</li>
	</ul>
	<h3><a href="https://github.com/antirez/redis/">https://github.com/antirez/redis/</a></h3>
	<ul>
	  <li>redis on GitHub</li>
	</ul>
  </section>
  
<section  class="slide" id="exercise_redis">
  <h1>It´s time to work...</h1>
  <h2>Exercise</h2>
</section>

<section  class="slide" id="start_redis">
  <h2>Start redis</h2>
  <h3>start redis server</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    redis-server
  </pre>
  </div>
  <h3>start redis client</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    redis-cli
  </pre>
  </div>
  <h3>see if redis works fine (client)</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    ping
  </pre>
  </div>
</section>
  
<section  class="slide" id="set_get">
  <h2>SET - GET</h2>
  <h3>store a value inside a key</h3>
  <div class="sample-content">
  <pre class="prettyprint">
	SET server:name "myTestServer"
  </pre>
  </div>
  <h3>get the value</h3>
  <div class="sample-content">
  <pre class="prettyprint">
	GET server:name
  </pre>
  </div>
</section>

<section  class="slide" id="setnx_incr_del">
  <h2>SETNX, INCR, DEL</h2>
  <h3>set-if-not-exists</h3>
  <div class="sample-content">
  <pre class="prettyprint">
	SETNX server:number 5
  </pre>
  </div>
  <h3>increment a number stored at a given key</h3>
  <div class="sample-content">
  <pre class="prettyprint">
	INCR server:number
  </pre>
  </div>
  <h3>delete a key and the associated value</h3>
  <div class="sample-content">
  <pre class="prettyprint">
	DEL server:number
  </pre>
  </div>
</section>
  
<section  class="slide" id="incr">
  <h2>Why do we need the operation INRC?</h2>
  <h3>You can also do it this way:</h3>
  <div class="sample-content">
  <pre class="prettyprint">
	x = GET count
	x = x + 1
	SET count x
  </pre>
  </div>
  <h3>this will only work with a single client ...</h3>
  <ol>
	<li>Client A reads count as 10</li>
	<li>Client B reads count as 10</li>
	<li>Client A increments 10 and sets count to 11</li>
	<li>Client B increments 10 and sets count to 11</li>
  </ol>
  <h3>The value should be 12!</h3>
  <h3>-> We should use the atomic operation INCR!</h3>
</section>
  
<section  class="slide" id="expire_ttl">
  <h2>EXPIRE, TTL</h2>
  <h3>expiration of a key (in seconds)</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    SET resource:lock "Redis Demo"
    EXPIRE resource:lock 120
  </pre>
  </div>
  <h3>number of seconds untill it will be deleted</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    TTL resource:lock
    TTL server:name
  </pre>
  </div>
  <h3>note: TTL will reset, if you set a key.</h3>
</section>

<section  class="slide" id="rpush_lpush_lrange">
  <h2>A List - RPUSH, LPUSH, LRANGE</h2>
  <h3>put a new value at the end of the list</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    RPUSH friends "Bob"
    RPUSH friends "Chris"
  </pre>
  </div>
  <h3>put a new value at the start of the list </h3>
  <div class="sample-content">
  <pre class="prettyprint">
    LPUSH friends "Ann"
  </pre>
  </div>
  <h3>show a subset of the list</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    LRANGE friends 0 -1
    LRANGE friends 1 2
  </pre>
  </div>
</section>

<section  class="slide" id="llen_lpop_rpop">
  <h2>LLEN, LPOP, RPOP</h2>
  <h3>get the current length of the list</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    LLEN friends
  </pre>
  </div>
  <h3>remove the last element of the list and return it</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    LPOP friends
  </pre>
  </div>
  <h3>remove the first element of the list and return it</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    RPOP friends
  </pre>
  </div>
  <div class="sample-content">
  <pre class="prettyprint">
    LLEN friends
    LRANGE friends 0 -1
  </pre>
  </div>
</section>

<section  class="slide" id="sadd_smember_srem">
  <h2>A Set - SADD, SMEMBER, SREM</h2>
  <h3>A set does not have a specific order, each element may only appear once.</h3>
  <h3>add a given value to the set</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    SADD pets "cat"
    SADD pets "dog"
    SADD pets "bird"
  </pre>
  </div>
  <h3>return all elements of the set</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    SMEMBERS pets
  </pre>
  </div>
  <h3>remove a value from the set</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    SREM pets "bird"
  </pre>
  </div>
</section>

<section  class="slide" id="sismember_union">
  <h2>A Set - SISMEMBER, SUNION</h2>
  <h3>test if the given value is in the set</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    SISMEMBER pets "dog"
    SISMEMBER pets "bird"
  </pre>
  </div>
  <h3>combine two or more sets and return the list of all elements</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    SADD wildanimals "lion"
    SADD wildanimals "giraffe"
    SUNION wildanimals pets
  </pre>
  </div>
</section>

<section  class="slide" id="zadd_zrange">
  <h2>A Sorted Set - ZADD, ZRANGE</h2>
  <h3>In a sorted set each element has an associated score.</h3>
  <h3>add a given value to the sorted set</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    ZADD score 194 "Tim"
    ZADD score  53 "Ben"
    ZADD score 200 "Liz"
    ZADD score   3 "Bob"
    ZADD score  74 "Sue"
    ZADD score  20 "Tom"
  </pre>
  </div>
  <h3>return the values of the set</h3>
  <div class="sample-content">
  <pre class="prettyprint">
    ZRANGE score 2 4
  </pre>
  </div>
</section>

<section  class="slide" id="pubsub">
	<h2>Pub/Sub</h2>
	
	<ul>
		<li> uses channels to subscribe </li>
		<li> clients can subscribe channels </li>
		<li> subscriber publics data to channels </li>
		<li> data will be pushed to subscribers </li>
	</ul>

</section>

<section  class="slide" id="pubsub2">
	<h2>Pub/Sub</h2>
	
	<pre>
		<img src="images/pubsub.png" alt="pubsub" width="900">
	</pre>
	
</section>

<section  class="slide" id="pubsub3">
	<h2>Pub/Sub</h2>
	
	<pre>
		<h3>Publish</h3>
		
		PUBLISH [channel] [data/value]
	</pre>
	
	<pre>
		<h3>Subscribe</h3>
		
		SUBSCRIBE [channel]
	</pre>

</section>

<section  class="slide" id="pubsub_exc">
	<h2>PUBLISH class "It´s time to work buddies..."</h2>

</section>






  
  <!-- End slides Anna session 2 -->

  <!-- End slides -->

  <!-- deck.navigation snippet -->
  <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
  <a href="#" class="deck-next-link" title="Next">&#8594;</a>

  <!-- deck.status snippet -->
  <p class="deck-status">
  <span class="deck-status-current"></span>
  /
  <span class="deck-status-total"></span>
  </p>

  <!-- deck.goto snippet -->
  <form action="." method="get" class="goto-form">
    <label for="goto-slide">Go to slide:</label>
    <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
    <datalist id="goto-datalist"></datalist>
    <input type="submit" value="Go">
  </form>

  <!-- deck.hash snippet -->
  <a href="." title="Permalink to this slide" class="deck-permalink">#</a>

  <!-- Grab CDN jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="/deck/jquery-1.7.min.js"><\/script>')</script>

    <!-- socket.io -->
    <script src="/socket.io/socket.io.js"></script>

    <!-- Deck Core and extensions -->
    <script src="/deck/core/deck.core.js"></script>
    <script src="/deck/extensions/hash/deck.hash.js"></script>
    <script src="/deck/extensions/menu/deck.menu.js"></script>
    <script src="/deck/extensions/goto/deck.goto.js"></script>
    <script src="/deck/extensions/status/deck.status.js"></script>
    <script src="/deck/extensions/navigation/deck.navigation.js"></script>

    <!-- prettify.js -->
    <script src="prettify/prettify.js"></script>

    <!-- websocket management -->
    <script src="javascript/websockets.js"></script>

    <!-- Initialize the deck -->
    <script>
      $(function() {
        $.deck('.slide');
        prettyPrint();
      });
    </script>

  </body>
</html>
